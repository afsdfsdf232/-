<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div>
        <div>
            <p>HTTP/1.1 版的头信息肯定是文本（ASCLL 编码），数据体可以是文本，也可以是二进制。</p>
            <p>HTTP/2则是一个彻底的二进制协议，头信息和数据体都是二进制，并且统称为“帧”：头信息帧和数据帧</p>
        </div>
        <br>
        <div>
            <p>HTTP/2复用 TCP连接，在一个连接里，客户端和浏览器都可以同时发送多个请求或回应，而且不用按照顺序一一对应，这样避免了“对头阻塞”</p>
            <p>举例来说，在一个TCP连接里面，服务器同时收到 A请求和B请求，于是先回应A请求，结果发现处理过程非常耗时，于是就发送A请求已经处理好的部分，接着回应B请求，完成后，在发送A请求剩下的部分</p>
        </div>
        <br>
        <div>
            <p>数据流:</p>
            <p>因为HTTP2 的数据包不是按照顺序发送的，同一个连接的数据包，可能属于不同的回应。因此，必须要对数据包做标记，指出属于那个回应。</p>
            <p>HTTP2 将每个请求或者回应的所有数据包，称为一个数据流。每个数据流都有一个独一无二的编号。数据包发送的时候，都必须标记数据流ID，用来区分它属于那个数据流。另外规定，客户端发出的数据流，ID一律为奇数，服务端发的为偶数，客户端还可以指定数据流的优先级，优先级越高，服务器就会越早回应</p>
        </div>
        <br>
        <div>
            <p>头信息压缩：</p>
            <p>HTTP协议不带有状态，每次请求都会附加所有的信息，比如 Cookie User Agent，一样的数据，每次都会带上，这样浪费带宽，影响速度。</p>
            <p>HTTP2 做了优化处理，引入头信息压缩。一方面，头信息使用 gzip 或者 compress压缩后在发送；另一方面，客户端和服务端同时维护一张头信息表，所有字段都会存在这个表，生成索引号，以后就不再发送同样的字段，只发送索引号</p>
        </div>

        <br>
        <div>
            <p>服务器推送：</p>
            <p>HTTP2 允许服务器未经请求（在建立连接的前提下），主动向客户端发送资源，这叫服务端推送</p>
        </div>
    </div>
</body>

</html>